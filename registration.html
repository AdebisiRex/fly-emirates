<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Register || Fly Emirates</title>
        <link rel="stylesheet" href="bootstrap-5.1.3-dist/css/bootstrap.css">
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="constantstyle.css">
        <link rel="stylesheet" href="fontawesome-free-6.1.1-web\css\all.css">
            
        <script src="bootstrap-5.1.3-dist/js/bootstrap.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-light bg-dark">
            <div class="container" >
                <div class="navbar-brand  bg-danger">
                    <img src="images/emirates-logo-horizontal.svg" width="110" alt="">
                </div>
        </nav>

        <main id="bodyImg" class="">
            hell
            <div class="text-center container my-5">
                <small class="text-light fw-bold">L O Y A L T Y</small>
                <h1 class="trebuchet text-center fw-bold display-3 text-light  px-3 my-3">Join Emirates Skywards</h1>
                <p class="w-75 fw-bold mx-auto text-light text-center my-3 ">Earn Miles every time you fly with us and our partners. And spend your Skywards Miles on a world of rewards.</p>
            </div>

            <div class="mx-auto col-7 bg-white shadow p-4 mb-5 rounded-1">
                <div class="row mb-3 g-3">

                    <div class="col-md-2 col-12">
                        <select name="" id="title"  class="input sh-hover">
                            <option value="">Title</option>
                            <option value="Master">Master</option>
                            <option value="Mr">Mr</option>
                            <option value="Miss">Miss</option>
                            <option value="Mrs">Mrs</option>
                            <option value="Ms">Ms</option>
                        </select>
                    </div>
                    <div class="col-md-5 col-12">
                        <input type="text" placeholder="First name" name="" id="fName" class="input sh-hover p-3">
                    </div>
                    <div class="col-md-5 col-12">
                        <input type="text" placeholder="Last name" name="" id="lName" class="input sh-hover p-3">
                    </div>
                    <p class="text-secondary">Your name must be entered in English as it appears on your passport</p>

                    <div class="col-md-6 col-12">
                        <input type="email" placeholder="Email" name="" id="eMail" class="input sh-hover p-3">
                    </div>
                    <div class="col-md-6 col-12">
                        <input type="password" placeholder="Password" name="" id="passW" class="input sh-hover p-3">
                    </div>
                    <div class="col-md-6 col-12  ">
                        <input type="date" placeholder="Date of birth" name="" id="dob" class="input sh-hover p-3">
                    </div>
                    <div class="col-md-6 col-12 ">
                        <input type="text" placeholder="Country/Territory or residence" name="" id="country" class="input sh-hover p-3">
                    </div>
                    <div class="col-md-5 col-12 ">
                        <input type="text" placeholder="Preferred Language" name="" id="lang" class="input sh-hover p-3">
                    </div>
                    <div class="col-md-3 col-12 ">
                        <input type="text" placeholder="Country code" name="countryCode" id="" class="input sh-hover p-3">
                    </div>
                    <div class="col-md-4 col-12 ">
                        <input type="text" placeholder="Mobile Number" name="" id="mNumber" class="input sh-hover p-3">
                    </div>

                    <div class="col-md-7 col-12">
                        <input type="text" placeholder="Enter invite code (optional)" name="" id="ivCode" class="input p-3 sh-hover">
                    </div>
                    <p class="text-secondary">Already have an Emirates Skywards membership number?</p>
                    <div>
                        <input type="radio" name="numberM" id=""> <label for="">No</label>
                        <input type="radio" name="numberM" id=""> <label for="">Yes</label>
                    </div>
                </div>

                <div class="mb-3"> 
                    <input type="checkbox" name="" id=""> <label for="">Sign up to receive Emirates newsletters and special offer emails. You can unsubscribe at any time via the link in our emails, by updating your Emirates Skywards account preferences or by contacting us. For more details on how we use your personal information, please see our <a class="u-0 text-dark"><ins>privacy policy</ins></a>.
                    </label>

                    <input type="checkbox" name="" id=""> <label for="">Sign up to receive flydubai  newsletters and special offer emails. Your name and email address will be shared with flydubai for this purpose. Unsubscribe at any time via relevant link in flydubai emails, by updating your Emirates Skywards account preferences or by contacting Emirates or flydubai. For more details, please see flydubai's <a class="u-0 text-dark"><ins>privacy policy</ins></a>.
                    </label>
                </div>
                <p>By creating an account you are agreeing to the Emirates Skyward <a href="" class="u-0 text-dark"><ins>Emirates Skywards programme rules</ins> </a> <i class="fa fa-share" aria-hidden="true"></i> and our <a class="u-0 text-dark"><ins>privacy policy</ins></a></p>

                <div class="col-12 col-md-4 mx-auto">
                    <button onclick="createAccount()" class="btn btn-sm btn-danger button100 mb-3">Create an account</button>

                    <button onclick="createGoogle()" class="btn btn-sm btn-outline-danger button100">Create Account With Google</button>

                </div>





            </div>
            .
        </main>




        <footer id="footing" class="py-5 mx-auto bg-black bg-gradient ">
            <div class="container">
                <div class="row">
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">About Us</h5>
                        <ul class="text-secondary">
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">About us</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Careers <i class="fa fa-share" aria-hidden="true"></i></a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Media Center <i class="fa fa-share" aria-hidden="true"></i></a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Our Planet</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Our People</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Our Commununities</a></li>
                        </ul>
                    </div>
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">Help</h5>
                        <ul class="text-secondary">
                            
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Help and Contact </a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Travel Updates</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Special assistance</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Frequently asked questions</a></li>
                        </ul>
                    </div>
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">Book</h5>
                        <ul class="text-secondary">
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Book flights</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Travel services</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Transportation</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Planning your trip</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Search for flights</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Dubai Experience</a></li>
                        </ul>
                    </div>
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">Manage</h5>
                        <ul class="text-secondary">
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Check-in</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Manage your booking</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Chauffeur drive</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Flight status</a></li>
                            
                        </ul>
                    </div>
                </div>
            </div>
            <hr>
            <div class="container py-3">
                <div class="row">
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">Before you fly</h5>
                        <ul class="text-secondary">
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Baggage</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Visa and passport information </a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Health</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Travel information</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Dubai international</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">To and from the airport</a></li>
                        </ul>
                    </div>
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">Where we fly</h5>
                        <ul class="text-light">
                            
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Route map </a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Africa</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Asia and Pacific</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Europe</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">The Amaricas</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">The Middle East</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Flight to all countries/territories</a></li>
                        </ul>
                    </div>
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">Experience</h5>
                        <ul class="text-secondary">
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Cabin features</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Shop Emirates</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">What's on your flight</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Inflight entertainment</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Dining</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Our lounges</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Dubai Stopover</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Open Skies</a></li>
                        </ul>
                    </div>
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">Loyalty</h5>
                        <ul class="text-secondary">
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Log in to Emirates Skywards</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Join Emirates Skywards</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Our Partners</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Business Rewards benefits</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Register your company</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Emirates Skywards Programme Rules</a></li>
                            
                        </ul>
                    </div>
                </div>

            </div>
            <hr>
            <div class="container py-3">
                <div class="row">
                    <div class="col-12 col-md-4">
                        <h5 class="text-secondary trebuchet ">Subscribe to our special offers</h5>
                        <p class="text-secondary fs-6 ">Save with our latest fares and offers</p>
                        <p> <a class="text-secondary fs-6" href="">Unsubscribe or change your prefereences</a></p>
                        <input class="p-1" type="enail" placeholder="Email address" name="" id=""> <button class="btn p-1 btn-sm btn-outline-light">Subscribe </button> <br>
                        <div class="w-75 mt-3">
                            <small class="text-secondary ">For details on how we use your information, please see our <ins>privacy policy</ins></small>
                        </div>
                    </div>
                    <div class="col-12 col-md-4">
                        <h5 class="text-secondary trebuchet ">Emirate App</h5>
                        <p class="mt-3 text-secondary fs-6 ">Book and manage your flight on the go</p>
                        <img class="my-3" src="images/apple-en.svg" alt=""> <img class="my-3" src="images/google-en.svg" alt="">
                    </div>
                    <div class="col-12 col-md-4">
                        <h5 class="text-secondary trebuchet ">Connect with us</h5>
                        <p class="mt-3 text-secondary fs-6 ">Share your Emirates expereience</p>
                        <img src="images/apple-en.svg" alt=""> <img src="images/google-en.svg" alt="">
                    </div>
                    
                </div>
                

            </div>
            <hr>
            <div class="container py-3">
                <div class="row">
                    <div class="col-12 col-md-4">
                        <div>
                            <img class="w-75" src="images/apex-world-class-airline.svg" alt="">
                        </div>
                    </div>
                    <div class="col-12 col-md-4">
                        <div>
                            <img class="w-75" src="images/fgfa-star.svg" alt="">
                        </div>
                    </div>
                    <div class="col-12 col-md-4">
                        <div>
                            <img class="w-75" src="images/skytrax-badge-2019.svg" alt="">
                        </div>
                    </div>
                    
                </div>
                

            </div> 
            <hr>
            <div class="container">
                <div class="d-flex w-75 flex-wrap">
                    <a class="text-secondary pe-3 u-0" href="">Accessibility statement</a>
                    <a class="text-secondary pe-3 ps-1 u-0" href="">Contact us</a>
                    <a class="text-secondary pe-3 ps-1 u-0" href="">Privacy policy</a>
                    <a class="text-secondary pe-3 ps-1 u-0" href="">Terms and condition</a>
                    <a class="text-secondary pe-3 ps-1 u-0" href="">Cookie Policy</a>
                    <a class="text-secondary pe-3 ps-1 u-0" href="">Cybersecurity</a>
                    <a class="text-secondary pe-3 ps-1 u-0" href="">Modern Slavery Act Transparency statement</a>
                    <a class="text-secondary pe-3 ps-1 u-0" href="">Sitemap</a>
                </div>
                <div class="mt-2">
                    <small class="text-white fw-bolder">&copy 2022 The Emirates Group. All Rights Reserved </small>
                </div>
            </div>

        </footer>


        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-app.js";
            import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signInWithPopup, GoogleAuthProvider } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-auth.js";
            import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-database.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            const firebaseConfig = {
              apiKey: "AIzaSyCtrbjCDy4Mn0pcdE3HpCN1xLchtO-7rqU",
              authDomain: "fly-emirate.firebaseapp.com",
              projectId: "fly-emirate",
              storageBucket: "fly-emirate.appspot.com",
              messagingSenderId: "740483655605",
              appId: "1:740483655605:web:46bcffb031cd2b6affdbfc"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);

            //authentication
            const auth = getAuth();
            const provider = new GoogleAuthProvider();

            //database
            const database = getDatabase();
      

            

           


            window.createGoogle=()=>{

                signInWithPopup(auth, provider).then((result)=>{
                const credential = GoogleAuthProvider.credentialFromResult(result);
                const token = credential.accessToken;
                console.log(credential, 'credential');
                console.log(result, 'result')
                console.log(token, 'token')

                })
            }


            //database management

            let dbRef = ref(database, "userData");
            let userArray;
            let nextIndex;

            onValue(dbRef, function(snapshot){
                userArray = snapshot.val();
                if(userArray){
                    nextIndex = userArray.length;
                }
                else{
                    nextIndex = 0;
                }
                
                console.log(userArray)
            })


            window.createAccount=()=> {

                
                let userId = eMail.value;
                let addTime = new Date().toLocaleTimeString();
                let password = passW.value;
                const database = getDatabase();
                

                let userObj = {"name":{'title': title.value, firstName: fName.value, lastName: lName.value}, "email": eMail.value, "dateOfBirth": dob.value, "language": lang.value, "mobileNumber": mNumber.value, "registeredTime": addTime}
                
                

                createUserWithEmailAndPassword(auth, userId, password).then((credential)=>{
                // console.log(credential, 'cred');
                // console.log(credential.user, 'user');
                // console.log(credential.user.uid, 'userID');
                // console.log(userObj)
                let userUID = credential.user.uid; 

                let userRef = ref(database, `userData/${userUID}`);
                set(userRef, userObj);
                
                location.href = 'login.html'
                }).catch((error)=>{
                console.log(error.message, error.code);
                console.log(error);
                })
                
                
            }

            

        </script>
    </body>
</html>
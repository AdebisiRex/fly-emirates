<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>User || Fly Emirates </title>
        <link rel="stylesheet" href="bootstrap-5.1.3-dist/css/bootstrap.css">
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="constantstyle.css">
        <link rel="stylesheet" href="fontawesome-free-6.1.1-web\css\all.css">
        
        <script src="bootstrap-5.1.3-dist/js/bootstrap.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-expand-lg navbar-light bg-dark">
            <div class="container">
                <div class="redFlag navbar-brand  bg-danger">
                    <img src="images/emirates-logo-badge.svg" width="60px" alt="">
                </div>
                <button class="text-white  bd-white navbar-toggler fs-6" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                MENU 
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-1 mb-lg-0">
                
                        <li class="nav-item dropdown">
                            <a class="nav-link text-white fw-bold dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            BOOK
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#">Action</a></li>
                            <li><a class="dropdown-item" href="#">Another action</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                        </li>
                    
                        <li class="nav-item dropdown">
                            <a class="nav-link text-white fw-bold dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            MANAGE
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#">Action</a></li>
                            <li><a class="dropdown-item" href="#">Another action</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                        </li>
                    
                        <li class="nav-item dropdown">
                            <a class="nav-link text-white fw-bold dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            EXPERIENCE
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#">Action</a></li>
                            <li><a class="dropdown-item" href="#">Another action</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                        </li>
                    
                        <li class="nav-item dropdown">
                            <a class="nav-link text-white fw-bold dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            WHERE WE FLY
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#">Action</a></li>
                            <li><a class="dropdown-item" href="#">Another action</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                        </li>
                    
                        <li class="nav-item dropdown">
                            <a class="nav-link text-white fw-bold dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            LOYALTY
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#">Action</a></li>
                            <li><a class="dropdown-item" href="#">Another action</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                        </li>
                    
                        <li class="nav-item dropdown">
                            <a class="nav-link text-white fw-bold dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            HELP
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#">Action</a></li>
                            <li><a class="dropdown-item" href="#">Another action</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                        </li>

                    </ul>

                    <ul class="navbar-nav me-1 mb-1 mb-lg-0">
                
                        <li class="nav-item dropdown">
                            <a class="nav-link text-white fw-bold dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false"> <i class="fa fa-moon" aria-hidden="true"></i>
                            NG
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#">Action</a></li>
                            <li><a class="dropdown-item" href="#">Another action</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                        </li>
                    
                        <li class="nav-item ">
                            <a class="nav-link text-white fw-bold">
                            <i class="fa-solid fa-search" aria-hidden="true"></i>
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="nav-link text-white fw-bold " href="editUser.html"> <i class="fa-regular fa-user" aria-hidden="true"></i>
                            <span id="thisUserEmail"></span>
                            </a>
                        </li>
                        <li class="nav-item" onclick="logout()">
                            <a class="nav-link text-white fw-bold "> Logout
                            </a>
                        </li>
                        
                    </ul>
                
                </div>
            </div>
        </nav>

        
        <section id="firstSection" class="bg-light pb-3">
            
            <div id="premiumEconomy" class="d-flex">
                
                <div  class="container align-self-center text-white">
                    <h4 class="trebu"><i>Welcome</i></h4>
                    <h1 id="fullName" class="display-3 fw-light impact"><i>PREMIUM ECONOMY</i></h1>
                    <button class="mx-auto-1 px-5 sh-hover btn btn-danger fw-bold fs-6">Edit Profile</button>
                </div>
                
                
                <img class="fly-better position-absolute" width="150px" src="images/emirates-fly-better-white.svg" alt="">
            </div>

            <div class="container bg-white shadow pb-3 mb-3">
                
                <div id="flip" class="mb-5">
                    <div id="searchFlights">
                        <!-- on load this div is displayed, when the required information is filled and Continue is clicked the afterContinue becomes displayed -->
                    </div>
                    <div class="accordion" id="accordionExample">
                        <div class="accordion-item">
                          <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                             Book Flight
                            </button>
                          </h2>
                          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                            <div class="accordion-body">
                                <div class="text-danger mb-1 text-end">
                                    <small > <ins> Advanced search: multi-city, promo codes, partner airlines  ></ins></small>
                                </div>
                                <div class="row g-2">
                                    <div class="col-md-4 col-12">
                                        <label for="depAirport">Departure Airport </label>
                                        <select class="sh-hover p-3 form-control custom-select" name="" id="depAirport">
                                        </select>
                                    </div>
                                    <div class="col-md-4 col-12">
                                        <label for="arrAirport">Arrival Airport </label>
                                        <select class="sh-hover p-3 form-control" name="" id="arrAirport"></select>
                                    </div>
                                    <div class="col-md-4 col-12">
                                        <label for="depDate">Departure Date </label>
                                        <input class=" form-control sh-hover p-3" type="date"  id="depDate">
                                            
                                    </div>
                                    <div class="col-md-4 col-12">
                                        <label for="arrDate">Arrival Date </label>
                                        <input class="form-control sh-hover p-3" type="date"  id="arrDate">
                                    </div>
                                    <div class="col-md-4 col-12">
                                        <label for="nOPass">Number of Passengers</label>
                                        <div class="row g-1">
                                            <div class="col-4">
                                                <input class="sh-hover p-3 form-control" type="number" placeholder="Adult" min="0" max="15" id="adult">       
    
                                            </div>
                                            <div class="col-4">
                                                <input class="sh-hover p-3 form-control" type="number" placeholder="Children" min="0" max="7" id="children">       
    
                                            </div>
                                            <div class="col-4">
                                                <input class="sh-hover p-3 form-control" type="number" placeholder="Toddler" min="0" max="3" id="toddler">       
    
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4 col-12">
                                        <label for="coach">Class </label>
                                        <select class="sh-hover p-3 form-control custom-select" id="coach">
                                            <option  value="Economy Class">Economy Class</option>
                                            <option value="Business Class">Business Class</option>
                                            <option value="First Class">First Class</option>

                                        </select>
                                    </div>
                                    <div class="col-md-4 col-12">
                                        <button onclick="ticket()" data-bs-toggle="modal" data-bs-target="#confirmModal"  class="sh-hover btn button100 btn-danger fw-bold px-5 p-2 sh-hover ">Book Flight</button>
                                        </i>
                                    </div>
                                </div>
                              
                            </div>
                          </div>
                        </div>

                        <div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <h5 class="modal-title" id="confirmModalLabel">Confirm Ticket details </h5>
                                  
                                </div>
                                <div class="modal-body">
                                  <div id="ticketDetails" class="text-center">

                                  </div>
                                  <div id="ticketPrice" class="text-center text-danger display-2 fw-bold" > 

                                  </div>
                                  
                                </div>
                                <div class="modal-footer">
                                  <button onclick="payWithPaystack()" id="saveChanges" class="btn btn-dark" data-bs-dismiss="modal">Proceed to Payment</button>
                                  
                                </div>
                              </div>
                            </div>
                        </div>

                        <div class="modal fade" id="detModal" tabindex="-1" aria-labelledby="detModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <h5 class="modal-title" id="detModalLabel">Booked Ticket details </h5>
                                  
                                </div>
                                <div class="modal-body">
                                  <div id="bookingDetails">



                                  </div>
                                  
                                  
                                </div>
                                <div id="bookingFooter" class="modal-footer">
                                  <button class="btn btn-dark" data-bs-dismiss="modal">Dismiss</button>
                                  
                                </div>
                              </div>
                            </div>
                        </div>






                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwo">
                              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                               Manage Tickets
                              </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                              <div id="ticketsDisplay" class="accordion-body">
                                You haven't booked any tickets recently 
                              </div>
                            </div>
                        </div>
                    </div>

                    
                    

                </div>
            </div>


            <div class="overflow-auto">
                <table  style="width: 1120px;" class="mx-auto table table-bordered">
                    <tr>
                        <td class="bg-white text-secondary fs-6 text-center ul-hover py-5 offers"><i class="fa fa-hotel" aria-hidden="true"></i> <br> Hotel</td>
                        <td class="bg-white text-secondary fs-6 text-center ul-hover py-5 offers"> <i class="fa fa-car" aria-hidden="true"></i> <br> Car Rental <i class="fa fa-close" aria-hidden="true"></i></td>
                        <td class="bg-white text-secondary fs-6 text-center ul-hover py-5 offers"><i class="fa fa-bed" aria-hidden="true"></i> <br> Book a holiday</td>
                        <td class="bg-white text-secondary fs-6 text-center ul-hover py-5 offers"><i class="fa fa-home" aria-hidden="true"></i> <br> Dubai Experience</td>
                        <td class="bg-white text-secondary fs-6 text-center ul-hover py-5 offers"><i class="fa fa-train" aria-hidden="true"></i> <br> Tours & activities</td>
                        <td class="bg-white text-secondary fs-6 text-center ul-hover py-5 offers"> <i class="fa fa-map-pin" aria-hidden="true"></i> <br> Chauffeur-drive</td>
                        <td class="bg-white text-secondary fs-6 text-center ul-hover py-5 offers"><i class="fas fa-handshake"></i> <br> Meet & Greet</td>
                        <td class="bg-white text-secondary fs-6 text-center ul-hover py-5 offers"><i class="fa fa-ship" aria-hidden="true"></i><br>  Airport Transfers</td>
                    </tr>
                </table>
            </div>

            <div id="joinEmirates" class=" container my-2 rounded-3 mb-4">
                <div class="row text-center">
                    <div class="col-md-3 col-12">
                        <img src="images/skywards-tier-signup.webp" width="250px" alt="">
                    </div>
                    <div class="col-md-7 col-12 text-white my-auto mb-3">
                        <p class="fw-bold m-0" >Join Emirates Skywards </p>
                        <small>Become an emirates Skywards member and start enjoying flight rewards, upgrage and more</small>
                    </div>
                    <div class="col-md-2 col-12 my-auto mb-3">
                        <button class="btn btn-light px-5">Join Now</button>
                    </div>
                </div>
                

            </div>
                
        </section>

        

        <footer id="footing" class="py-5 mx-auto bg-black bg-gradient ">
            <div class="container">
                <div class="row">
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">About Us</h5>
                        <ul class="text-secondary">
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">About us</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Careers <i class="fa fa-share" aria-hidden="true"></i></a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Media Center <i class="fa fa-share" aria-hidden="true"></i></a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Our Planet</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Our People</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Our Commununities</a></li>
                        </ul>
                    </div>
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">Help</h5>
                        <ul class="text-secondary">
                            
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Help and Contact </a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Travel Updates</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Special assistance</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Frequently asked questions</a></li>
                        </ul>
                    </div>
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">Book</h5>
                        <ul class="text-secondary">
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Book flights</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Travel services</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Transportation</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Planning your trip</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Search for flights</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Dubai Experience</a></li>
                        </ul>
                    </div>
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">Manage</h5>
                        <ul class="text-secondary">
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Check-in</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Manage your booking</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Chauffeur drive</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Flight status</a></li>
                            
                        </ul>
                    </div>
                </div>
            </div>
            <hr>
            <div class="container py-3">
                <div class="row">
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">Before you fly</h5>
                        <ul class="text-secondary">
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Baggage</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Visa and passport information </a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Health</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Travel information</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Dubai international</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">To and from the airport</a></li>
                        </ul>
                    </div>
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">Where we fly</h5>
                        <ul class="text-light">
                            
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Route map </a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Africa</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Asia and Pacific</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Europe</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">The Amaricas</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">The Middle East</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Flight to all countries/territories</a></li>
                        </ul>
                    </div>
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">Experience</h5>
                        <ul class="text-secondary">
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Cabin features</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Shop Emirates</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">What's on your flight</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Inflight entertainment</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Dining</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Our lounges</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Dubai Stopover</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Open Skies</a></li>
                        </ul>
                    </div>
                    <div class="col-12 col-md-3">
                        <h5 class="text-secondary trebuchet ">Loyalty</h5>
                        <ul class="text-secondary">
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Log in to Emirates Skywards</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Join Emirates Skywards</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Our Partners</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Business Rewards benefits</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Register your company</a></li>
                            <li class="list-none"> <a class="text-secondary u-0 fs-6 fw-light" href="">Emirates Skywards Programme Rules</a></li>
                            
                        </ul>
                    </div>
                </div>

            </div>
            <hr>
            <div class="container py-3">
                <div class="row">
                    <div class="col-12 col-md-4">
                        <h5 class="text-secondary trebuchet ">Subscribe to our special offers</h5>
                        <p class="text-secondary fs-6 ">Save with our latest fares and offers</p>
                        <p> <a class="text-secondary fs-6" href="">Unsubscribe or change your prefereences</a></p>
                        <input class="p-1" type="enail" placeholder="Email address" name="" id=""> <button class="btn p-1 btn-sm btn-outline-light">Subscribe </button> <br>
                        <div class="w-75 mt-3">
                            <small class="text-secondary ">For details on how we use your information, please see our <ins>privacy policy</ins></small>
                        </div>
                    </div>
                    <div class="col-12 col-md-4">
                        <h5 class="text-secondary trebuchet ">Emirate App</h5>
                        <p class="mt-3 text-secondary fs-6 ">Book and manage your flight on the go</p>
                        <img class="my-3" src="images/apple-en.svg" alt=""> <img class="my-3" src="images/google-en.svg" alt="">
                    </div>
                    <div class="col-12 col-md-4">
                        <h5 class="text-secondary trebuchet ">Connect with us</h5>
                        <p class="mt-3 text-secondary fs-6 ">Share your Emirates expereience</p>
                        <img src="images/apple-en.svg" alt=""> <img src="images/google-en.svg" alt="">
                    </div>
                    
                </div>
                

            </div>
            <hr>
            <div class="container py-3">
                <div class="row">
                    <div class="col-12 col-md-4">
                        <div>
                            <img class="w-75" src="images/apex-world-class-airline.svg" alt="">
                        </div>
                    </div>
                    <div class="col-12 col-md-4">
                        <div>
                            <img class="w-75" src="images/fgfa-star.svg" alt="">
                        </div>
                    </div>
                    <div class="col-12 col-md-4">
                        <div>
                            <img class="w-75" src="images/skytrax-badge-2019.svg" alt="">
                        </div>
                    </div>
                    
                </div>
                

            </div> 
            <hr>
            <div class="container">
                <div class="d-flex w-75 flex-wrap">
                    <a class="text-secondary pe-3 u-0" href="">Accessibility statement</a>
                    <a class="text-secondary pe-3 ps-1 u-0" href="">Contact us</a>
                    <a class="text-secondary pe-3 ps-1 u-0" href="">Privacy policy</a>
                    <a class="text-secondary pe-3 ps-1 u-0" href="">Terms and condition</a>
                    <a class="text-secondary pe-3 ps-1 u-0" href="">Cookie Policy</a>
                    <a class="text-secondary pe-3 ps-1 u-0" href="">Cybersecurity</a>
                    <a class="text-secondary pe-3 ps-1 u-0" href="">Modern Slavery Act Transparency statement</a>
                    <a class="text-secondary pe-3 ps-1 u-0" href="">Sitemap</a>
                </div>
                <div class="mt-2">
                    <small class="text-white fw-bolder">&copy 2022 The Emirates Group. All Rights Reserved </small>
                </div>
            </div>

        </footer>

        <script>
            let images = [
                'images/beach.webp',
                'images/emirates-premium-economy-cabin-view-w1920x480.webp',
                'images/happy-family-walking-together-on-sunset-pb-w1920x480.jpg',
                'images/dubai-marina-cruise-tour-w1920x480.webp',
                'images/emirates-premium-economy-seat-w1920x480.webp',
                'images/family-visiting-green-planet-w1920x480.webp'
            ]
            function changeImage(){
                i = Math.floor(Math.random()*10);
                if(i>=images.length){
                i = 0;
                }
                a = images[i]
            

            document.getElementById('premiumEconomy').style.backgroundImage= `url('${a}')`;
            
            
            
            setTimeout("changeImage()",3000);
            }

            changeImage()
        </script>
        <script src="https://js.paystack.co/v1/inline.js"></script>
        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-app.js";
            import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-auth.js";
            import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-database.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
        
            // Your web app's Firebase configuration
            const firebaseConfig = {
            apiKey: "AIzaSyCtrbjCDy4Mn0pcdE3HpCN1xLchtO-7rqU",
            authDomain: "fly-emirate.firebaseapp.com",
            projectId: "fly-emirate",
            storageBucket: "fly-emirate.appspot.com",
            messagingSenderId: "740483655605",
            appId: "1:740483655605:web:46bcffb031cd2b6affdbfc"
            };
        
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const auth = getAuth();
            const database = getDatabase();

            const Cruser = auth.currentUser;
           

            let currentEmail; 
            let currentUID;

            onAuthStateChanged(auth, (user)=>{
                // console.log(user)
                currentEmail = user.email;
                currentUID = user.uid;
            })

            

            //database

            let dbRef = ref(database, "userData");
            let userArray = [];
            let thisUserArray;

            onValue(dbRef, function(snapshot){
                userArray = snapshot.val();
                    thisUserArray =  userArray[`${currentUID}`];
                    // console.log(thisUserArray, 'thisuser');
                    thisUserEmail.innerText = thisUserArray.email;
                    fullName.innerText = `${thisUserArray.name.firstName} ${thisUserArray.name.lastName}`;
               
            })
            

            //code for tickets
            let ticketsArray;
            let nextIndex;
            let currentUserTickets;
            let userTicketsDB = ref(database, 'userTickets');
            onValue(userTicketsDB, function(snapshot){
                ticketsArray = snapshot.val();
                console.log(ticketsArray, "ticketsArray")
                if(ticketsArray[`${currentUID}`]){
                    currentUserTickets = ticketsArray[`${currentUID}`]
                    console.log(currentUserTickets, 'currentUserTickets');
                    nextIndex = currentUserTickets.length;
                    displayTickets(currentUserTickets);
                }else{
                    nextIndex= 0;
                }

            })

            let n;
            let prices;
            let priceREF = ref(database, 'prices')
            onValue(priceREF, function(snapshot){
                prices = snapshot.val();
                if(prices){
                    n = prices.length;
                }else{
                    n = 0  
                }
            })

            let noAdult;
            let noChildren;
            let noToddler;
            let numberOfPassenger;
            let totalTicketPrice;
           
            function buyTicket(){
                noAdult = Number(adult.value);
                noChildren = Number(children.value);
                noToddler = Number(toddler.value)
                numberOfPassenger = noAdult + noChildren + noToddler;
                let date = new Date().toLocaleDateString();
                

                if(coach.value == 'First Class'){

                    totalTicketPrice = ((noAdult * 1000) + (noChildren * 650) + (noToddler * 500)) * 3;
                }else if(coach.value == 'Business Class'){
                    totalTicketPrice = ((noAdult * 1000) + (noChildren * 650) + (noToddler * 500)) * 2;

                }else if(coach.value == 'Economy Class'){
                    totalTicketPrice = ((noAdult * 1000) + (noChildren * 650) + (noToddler * 500));

                }

            }



            window.ticket=()=>{
                noAdult = Number(adult.value);
                noChildren = Number(children.value);
                noToddler = Number(toddler.value)
                numberOfPassenger = noAdult + noChildren + noToddler;
                

                if(coach.value == 'First Class'){

                    totalTicketPrice = ((noAdult * 1000) + (noChildren * 650) + (noToddler * 500)) * 3;
                }else if(coach.value == 'Business Class'){
                    totalTicketPrice = ((noAdult * 1000) + (noChildren * 650) + (noToddler * 500)) * 2;

                }else if(coach.value == 'Economy Class'){
                    totalTicketPrice = ((noAdult * 1000) + (noChildren * 650) + (noToddler * 500));

                }

                document.getElementById('ticketDetails').innerHTML = `You're about to purchase <strong> ${numberOfPassenger}</strong> <strong> ${coach.value}</strong> ticket(s) for available flights from <strong> ${depAirport.value}</strong>  to <strong> ${arrAirport.value}</strong> between <strong> ${depDate.value}</strong> and <strong> ${arrDate.value}</strong>`; 

                document.getElementById('ticketPrice').innerHTML = `<i class="fa fa-dollar" aria-hidden="true"></i>${totalTicketPrice}`;
            
                buyTicket()
            }
                
            function displayTickets(currentUserTickets){
                let display = `<table class="table table-hover table-striped">
                                <thead>
                                    <tr> <th> Departure </th> <th> Destination</th> <th> Departure Date</th><th> Approval Status</th><th><img src="images/bin.png" width="20"></th> </tr></thead><tbody>    `;
                currentUserTickets.map((ticket, i)=>{
                    display += `<tr data-bs-toggle="modal" data-bs-target="#detModal" onclick = "moreDetails(${i})"><td> ${ticket.from}</td><td>${ticket.to}</td><td>${ticket.departureDate}</td><td> <i> pending...</i></td><td onclick = 'deleteTicket(${i})'><img src="images/bin.png" width="20"></td></tr>`
                })
                display += `</tbody></table>`;
                ticketsDisplay.innerHTML  = display;
            }
           
            window.deleteTicket=(index)=>{
                currentUserTickets.splice(index,1)
                let ticketRef = ref(database, `userTickets/${currentUID}`);
                
                set(ticketRef, currentUserTickets)
            }

            let detailIndex;
            window.moreDetails=(d)=>{
                let det = currentUserTickets[d];
                detailIndex = d;

                document.getElementById('bookingDetails').innerHTML =  `<table class= "table table-responsive">
                    <tr><td> Departure Airport:</td><td> ${det.from} </td></tr>
                    <tr><td> Arrival Airport:</td><td> ${det.to} </td></tr>
                    <tr><td> Class:</td><td> ${det.coach} </td></tr>
                    <tr><td> Book:</td><td> ${det.book} </td></tr>
                    <tr><td> Arrival Date:</td><td> ${det.paymentStatus} </td></tr>
                    <tr><td> Arrival Date:</td><td> ${det.paymentReference} </td></tr>
                    <tr><td> Approval Status:</td><td> ${det.approval} </td></tr>
                    <tr><td> Cost:</td><td> ${ det.cost } </td></tr>
                    <tr><td> Passengers: (${det.passengers.total})</td><td> Adult: ${det.passengers.adult} Children: ${det.passengers.children} Toddler: ${det.passengers.toddler} </td></tr>
                    <tr><td> Departure Date:</td><td> ${det.departureDate} </td></tr>
                    <tr><td> Arrival Date:</td><td> ${det.arrivalDate} </td></tr>
                </table>` 

                if(det.paymentStatus == "Awaiting Payment"){
                    document.getElementById('bookingFooter').innerHTML = `<button onclick="prebookedTicketPaystack()" class="btn btn-danger">Proceed To Pay </button><button class="btn btn-dark" data-bs-dismiss="modal">Dismiss</button>`
                }
            }


            window.logout=()=>{
                if(confirm('Are you sure you want to Logout?')){
                    
                    auth.signOut().then(()=>{
                        location.href = "login.html"
                    })
                }
            }

            
            
            
            
            
            
            
            
            
            ///LINKED PAYSTACK FOR PAYMENTS

            window.prebookedTicketPaystack=()=> {
                
                var handler = PaystackPop.setup({
                    key: 'pk_test_81338c74c32ab94adecbb258dc43be07f645286c', // Replace with your public key
                    email: currentEmail,
                    amount: totalTicketPrice * 100, // the amount value is multiplied by 100 to convert to the lowest currency unit
                    currency: 'NGN', // Use GHS for Ghana Cedis or USD for US Dollars
                    ref: `FLY`+ Math.floor((Math.random() * 1000) + 1)+'REX'+Math.floor((Math.random() * 15000) + 1), // Replace with a reference you generated
                    callback: function(response) {
                        //this happens after the payment is completed successfully
                        
                        var reference = response.reference;
                        alert('Payment complete! Reference: ' + reference);

                        buyTicket();

                        let ticketRef = ref(database, `userTickets/${currentUID}/${detailIndex}`);
               
                        let ticketObj = {'from': depAirport.value, 'to':arrAirport.value, 'departureDate': depDate.value, 'arrivalDate': arrDate.value, 'coach': coach.value, 'passengers': {'adult': noAdult, 'children': noChildren, 'toddler': noToddler, 'total': numberOfPassenger},  'approval': false, 'paymentStatus': 'Completed','paymentReference': reference, 'book': date, 'cost': totalTicketPrice};
                        set(ticketRef, ticketObj);


                        let priceRef = ref(database, "prices/"+n)
                        set(proceRef, totalTicketPrice)
                    // Make an AJAX call to your server with the reference to verify the transaction
                    },
                    onClose: function() {

                        buyTicket();
                        let ticketRef = ref(database, `userTickets/${currentUID}/${detailIndex}`);
               
                        let ticketObj = {'from': depAirport.value, 'to':arrAirport.value, 'departureDate': depDate.value, 'arrivalDate': arrDate.value, 'coach': coach.value, 'passengers': {'adult': noAdult, 'children': noChildren, 'toddler': noToddler, 'total': numberOfPassenger},  'approval': false, 'paymentStatus': 'Awaiting Payment','paymentReference': reference, 'book': date, 'cost': totalTicketPrice};
                        set(ticketRef, ticketObj);

                    alert('Transaction was not completed, window closed.');
                    },
                });
                handler.openIframe();
            }



            window.payWithPaystack=()=> {
                
                var handler = PaystackPop.setup({
                    key: 'pk_test_81338c74c32ab94adecbb258dc43be07f645286c', // Replace with your public key
                    email: currentEmail,
                    amount: totalTicketPrice * 100, // the amount value is multiplied by 100 to convert to the lowest currency unit
                    currency: 'NGN', // Use GHS for Ghana Cedis or USD for US Dollars
                    ref: `FLY`+ Math.floor((Math.random() * 1000) + 1)+'REX'+Math.floor((Math.random() * 15000) + 1), // Replace with a reference you generated
                    callback: function(response) {
                        //this happens after the payment is completed successfully
                        
                        var reference = response.reference;
                        alert('Payment complete! Reference: ' + reference);

                        buyTicket();

                        let ticketRef = ref(database, `userTickets/${currentUID}/${nextIndex}`);
               
                        let ticketObj = {'from': depAirport.value, 'to':arrAirport.value, 'departureDate': depDate.value, 'arrivalDate': arrDate.value, 'coach': coach.value, 'passengers': {'adult': noAdult, 'children': noChildren, 'toddler': noToddler, 'total': numberOfPassenger},  'approval': false, 'paymentStatus': 'Completed','paymentReference': reference, 'book': date, 'cost': totalTicketPrice};
                        set(ticketRef, ticketObj);


                        let priceRef = ref(database, "prices/"+n)
                        set(proceRef, totalTicketPrice)
                    // Make an AJAX call to your server with the reference to verify the transaction
                    },
                    onClose: function() {

                        buyTicket();
                        let ticketRef = ref(database, `userTickets/${currentUID}/${nextIndex}`);
               
                        let ticketObj = {'from': depAirport.value, 'to':arrAirport.value, 'departureDate': depDate.value, 'arrivalDate': arrDate.value, 'coach': coach.value, 'passengers': {'adult': noAdult, 'children': noChildren, 'toddler': noToddler, 'total': numberOfPassenger},  'approval': false, 'paymentStatus': 'Awaiting Payment','paymentReference': '', 'book': date, 'cost': totalTicketPrice};
                        set(ticketRef, ticketObj);

                    alert('Transaction was not completed, window closed.');
                    },
                });
                handler.openIframe();
            }







        </script>
        
        <script src="javascript.js"></script>
        <!-- <script src="script.js"></script> -->

        <!-- <script src="trial.js"></script> -->
    </body>
</html>